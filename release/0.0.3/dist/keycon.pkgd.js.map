{"version":3,"file":"keycon.pkgd.js","sources":["../node_modules/@egjs/component/dist/component.esm.js","../node_modules/keycode/index.js","../src/KeyController.ts"],"sourcesContent":["/*\nCopyright (c) 2017 NAVER Corp.\n@egjs/component project is licensed under the MIT license\n\n@egjs/component JavaScript library\nhttps://naver.github.io/egjs-component\n\n@version 2.1.2\n*/\n/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nfunction isUndefined(value) {\n  return typeof value === \"undefined\";\n}\n/**\n * A class used to manage events in a component\n * @ko 컴포넌트의 이벤트을 관리할 수 있게 하는 클래스\n * @alias eg.Component\n */\n\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  var Component =\n  /*#__PURE__*/\n  function () {\n    /**\n    * Version info string\n    * @ko 버전정보 문자열\n    * @name VERSION\n    * @static\n    * @type {String}\n    * @example\n    * eg.Component.VERSION;  // ex) 2.0.0\n    * @memberof eg.Component\n    */\n\n    /**\n     * @support {\"ie\": \"7+\", \"ch\" : \"latest\", \"ff\" : \"latest\",  \"sf\" : \"latest\", \"edge\" : \"latest\", \"ios\" : \"7+\", \"an\" : \"2.1+ (except 3.x)\"}\n     */\n    function Component() {\n      this._eventHandler = {};\n      this.options = {};\n    }\n    /**\n     * Triggers a custom event.\n     * @ko 커스텀 이벤트를 발생시킨다\n     * @param {String} eventName The name of the custom event to be triggered <ko>발생할 커스텀 이벤트의 이름</ko>\n     * @param {Object} customEvent Event data to be sent when triggering a custom event <ko>커스텀 이벤트가 발생할 때 전달할 데이터</ko>\n     * @return {Boolean} Indicates whether the event has occurred. If the stop() method is called by a custom event handler, it will return false and prevent the event from occurring. <a href=\"https://github.com/naver/egjs-component/wiki/How-to-make-Component-event-design%3F\">Ref</a> <ko>이벤트 발생 여부. 커스텀 이벤트 핸들러에서 stop() 메서드를 호출하면 'false'를 반환하고 이벤트 발생을 중단한다. <a href=\"https://github.com/naver/egjs-component/wiki/How-to-make-Component-event-design%3F\">참고</a></ko>\n     * @example\n    class Some extends eg.Component {\n     some(){\n     \tif(this.trigger(\"beforeHi\")){ // When event call to stop return false.\n    \tthis.trigger(\"hi\");// fire hi event.\n     \t}\n     }\n    }\n    const some = new Some();\n    some.on(\"beforeHi\", (e) => {\n    if(condition){\n    \te.stop(); // When event call to stop, `hi` event not call.\n    }\n    });\n    some.on(\"hi\", (e) => {\n    // `currentTarget` is component instance.\n    console.log(some === e.currentTarget); // true\n    });\n    // If you want to more know event design. You can see article.\n    // https://github.com/naver/egjs-component/wiki/How-to-make-Component-event-design%3F\n     */\n\n\n    var _proto = Component.prototype;\n\n    _proto.trigger = function trigger(eventName, customEvent) {\n      if (customEvent === void 0) {\n        customEvent = {};\n      }\n\n      var handlerList = this._eventHandler[eventName] || [];\n      var hasHandlerList = handlerList.length > 0;\n\n      if (!hasHandlerList) {\n        return true;\n      } // If detach method call in handler in first time then handler list calls.\n\n\n      handlerList = handlerList.concat();\n      customEvent.eventType = eventName;\n      var isCanceled = false;\n      var arg = [customEvent];\n      var i = 0;\n\n      customEvent.stop = function () {\n        isCanceled = true;\n      };\n\n      customEvent.currentTarget = this;\n\n      for (var _len = arguments.length, restParam = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        restParam[_key - 2] = arguments[_key];\n      }\n\n      if (restParam.length >= 1) {\n        arg = arg.concat(restParam);\n      }\n\n      for (i = 0; handlerList[i]; i++) {\n        handlerList[i].apply(this, arg);\n      }\n\n      return !isCanceled;\n    };\n    /**\n     * Executed event just one time.\n     * @ko 이벤트가 한번만 실행된다.\n     * @param {eventName} eventName The name of the event to be attached <ko>등록할 이벤트의 이름</ko>\n     * @param {Function} handlerToAttach The handler function of the event to be attached <ko>등록할 이벤트의 핸들러 함수</ko>\n     * @return {eg.Component} An instance of a component itself<ko>컴포넌트 자신의 인스턴스</ko>\n     * @example\n    class Some extends eg.Component {\n     hi() {\n       alert(\"hi\");\n     }\n     thing() {\n       this.once(\"hi\", this.hi);\n     }\n    }\n    var some = new Some();\n    some.thing();\n    some.trigger(\"hi\");\n    // fire alert(\"hi\");\n    some.trigger(\"hi\");\n    // Nothing happens\n     */\n\n\n    _proto.once = function once(eventName, handlerToAttach) {\n      if (typeof eventName === \"object\" && isUndefined(handlerToAttach)) {\n        var eventHash = eventName;\n        var i;\n\n        for (i in eventHash) {\n          this.once(i, eventHash[i]);\n        }\n\n        return this;\n      } else if (typeof eventName === \"string\" && typeof handlerToAttach === \"function\") {\n        var self = this;\n        this.on(eventName, function listener() {\n          for (var _len2 = arguments.length, arg = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            arg[_key2] = arguments[_key2];\n          }\n\n          handlerToAttach.apply(self, arg);\n          self.off(eventName, listener);\n        });\n      }\n\n      return this;\n    };\n    /**\n     * Checks whether an event has been attached to a component.\n     * @ko 컴포넌트에 이벤트가 등록됐는지 확인한다.\n     * @param {String} eventName The name of the event to be attached <ko>등록 여부를 확인할 이벤트의 이름</ko>\n     * @return {Boolean} Indicates whether the event is attached. <ko>이벤트 등록 여부</ko>\n     * @example\n    class Some extends eg.Component {\n     some() {\n       this.hasOn(\"hi\");// check hi event.\n     }\n    }\n     */\n\n\n    _proto.hasOn = function hasOn(eventName) {\n      return !!this._eventHandler[eventName];\n    };\n    /**\n     * Attaches an event to a component.\n     * @ko 컴포넌트에 이벤트를 등록한다.\n     * @param {eventName} eventName The name of the event to be attached <ko>등록할 이벤트의 이름</ko>\n     * @param {Function} handlerToAttach The handler function of the event to be attached <ko>등록할 이벤트의 핸들러 함수</ko>\n     * @return {eg.Component} An instance of a component itself<ko>컴포넌트 자신의 인스턴스</ko>\n     * @example\n    class Some extends eg.Component {\n     hi() {\n       console.log(\"hi\");\n     }\n     some() {\n       this.on(\"hi\",this.hi); //attach event\n     }\n    }\n    */\n\n\n    _proto.on = function on(eventName, handlerToAttach) {\n      if (typeof eventName === \"object\" && isUndefined(handlerToAttach)) {\n        var eventHash = eventName;\n        var name;\n\n        for (name in eventHash) {\n          this.on(name, eventHash[name]);\n        }\n\n        return this;\n      } else if (typeof eventName === \"string\" && typeof handlerToAttach === \"function\") {\n        var handlerList = this._eventHandler[eventName];\n\n        if (isUndefined(handlerList)) {\n          this._eventHandler[eventName] = [];\n          handlerList = this._eventHandler[eventName];\n        }\n\n        handlerList.push(handlerToAttach);\n      }\n\n      return this;\n    };\n    /**\n     * Detaches an event from the component.\n     * @ko 컴포넌트에 등록된 이벤트를 해제한다\n     * @param {eventName} eventName The name of the event to be detached <ko>해제할 이벤트의 이름</ko>\n     * @param {Function} handlerToDetach The handler function of the event to be detached <ko>해제할 이벤트의 핸들러 함수</ko>\n     * @return {eg.Component} An instance of a component itself <ko>컴포넌트 자신의 인스턴스</ko>\n     * @example\n    class Some extends eg.Component {\n     hi() {\n       console.log(\"hi\");\n     }\n     some() {\n       this.off(\"hi\",this.hi); //detach event\n     }\n    }\n     */\n\n\n    _proto.off = function off(eventName, handlerToDetach) {\n      // All event detach.\n      if (isUndefined(eventName)) {\n        this._eventHandler = {};\n        return this;\n      } // All handler of specific event detach.\n\n\n      if (isUndefined(handlerToDetach)) {\n        if (typeof eventName === \"string\") {\n          this._eventHandler[eventName] = undefined;\n          return this;\n        } else {\n          var eventHash = eventName;\n          var name;\n\n          for (name in eventHash) {\n            this.off(name, eventHash[name]);\n          }\n\n          return this;\n        }\n      } // The handler of specific event detach.\n\n\n      var handlerList = this._eventHandler[eventName];\n\n      if (handlerList) {\n        var k;\n        var handlerFunction;\n\n        for (k = 0; (handlerFunction = handlerList[k]) !== undefined; k++) {\n          if (handlerFunction === handlerToDetach) {\n            handlerList = handlerList.splice(k, 1);\n            break;\n          }\n        }\n      }\n\n      return this;\n    };\n\n    return Component;\n  }();\n\n  Component.VERSION = \"2.1.2\";\n  return Component;\n}();\n\nexport default Component;\n//# sourceMappingURL=component.esm.js.map\n","// Source: http://jsfiddle.net/vWx8V/\n// http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes\n\n/**\n * Conenience method returns corresponding value for given keyName or keyCode.\n *\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Mixed}\n * @api public\n */\n\nfunction keyCode(searchInput) {\n  // Keyboard Events\n  if (searchInput && 'object' === typeof searchInput) {\n    var hasKeyCode = searchInput.which || searchInput.keyCode || searchInput.charCode\n    if (hasKeyCode) searchInput = hasKeyCode\n  }\n\n  // Numbers\n  if ('number' === typeof searchInput) return names[searchInput]\n\n  // Everything else (cast to string)\n  var search = String(searchInput)\n\n  // check codes\n  var foundNamedKey = codes[search.toLowerCase()]\n  if (foundNamedKey) return foundNamedKey\n\n  // check aliases\n  var foundNamedKey = aliases[search.toLowerCase()]\n  if (foundNamedKey) return foundNamedKey\n\n  // weird character?\n  if (search.length === 1) return search.charCodeAt(0)\n\n  return undefined\n}\n\n/**\n * Compares a keyboard event with a given keyCode or keyName.\n *\n * @param {Event} event Keyboard event that should be tested\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Boolean}\n * @api public\n */\nkeyCode.isEventKey = function isEventKey(event, nameOrCode) {\n  if (event && 'object' === typeof event) {\n    var keyCode = event.which || event.keyCode || event.charCode\n    if (keyCode === null || keyCode === undefined) { return false; }\n    if (typeof nameOrCode === 'string') {\n      // check codes\n      var foundNamedKey = codes[nameOrCode.toLowerCase()]\n      if (foundNamedKey) { return foundNamedKey === keyCode; }\n\n      // check aliases\n      var foundNamedKey = aliases[nameOrCode.toLowerCase()]\n      if (foundNamedKey) { return foundNamedKey === keyCode; }\n    } else if (typeof nameOrCode === 'number') {\n      return nameOrCode === keyCode;\n    }\n    return false;\n  }\n}\n\nexports = module.exports = keyCode;\n\n/**\n * Get by name\n *\n *   exports.code['enter'] // => 13\n */\n\nvar codes = exports.code = exports.codes = {\n  'backspace': 8,\n  'tab': 9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl': 17,\n  'alt': 18,\n  'pause/break': 19,\n  'caps lock': 20,\n  'esc': 27,\n  'space': 32,\n  'page up': 33,\n  'page down': 34,\n  'end': 35,\n  'home': 36,\n  'left': 37,\n  'up': 38,\n  'right': 39,\n  'down': 40,\n  'insert': 45,\n  'delete': 46,\n  'command': 91,\n  'left command': 91,\n  'right command': 93,\n  'numpad *': 106,\n  'numpad +': 107,\n  'numpad -': 109,\n  'numpad .': 110,\n  'numpad /': 111,\n  'num lock': 144,\n  'scroll lock': 145,\n  'my computer': 182,\n  'my calculator': 183,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  \"'\": 222\n}\n\n// Helper aliases\n\nvar aliases = exports.aliases = {\n  'windows': 91,\n  '⇧': 16,\n  '⌥': 18,\n  '⌃': 17,\n  '⌘': 91,\n  'ctl': 17,\n  'control': 17,\n  'option': 18,\n  'pause': 19,\n  'break': 19,\n  'caps': 20,\n  'return': 13,\n  'escape': 27,\n  'spc': 32,\n  'spacebar': 32,\n  'pgup': 33,\n  'pgdn': 34,\n  'ins': 45,\n  'del': 46,\n  'cmd': 91\n}\n\n/*!\n * Programatically add the following\n */\n\n// lower case chars\nfor (i = 97; i < 123; i++) codes[String.fromCharCode(i)] = i - 32\n\n// numbers\nfor (var i = 48; i < 58; i++) codes[i - 48] = i\n\n// function keys\nfor (i = 1; i < 13; i++) codes['f'+i] = i + 111\n\n// numpad keys\nfor (i = 0; i < 10; i++) codes['numpad '+i] = i + 96\n\n/**\n * Get by code\n *\n *   exports.name[13] // => 'Enter'\n */\n\nvar names = exports.names = exports.title = {} // title for backward compat\n\n// Create reverse mapping\nfor (i in codes) names[codes[i]] = i\n\n// Add aliases\nfor (var alias in aliases) {\n  codes[alias] = aliases[alias]\n}\n","import Component from \"@egjs/component\";\nimport { names } from \"keycode\";\n\nconst codeData = {\n    \"+\": \"plus\",\n    \"left command\": \"meta\",\n    \"right command\": \"meta\",\n};\nfunction getKey(keyCode: number) {\n    let key = names[keyCode] || \"\";\n\n    for (const name in codeData) {\n        key = key.replace(name, codeData[name]);\n    }\n\n    return key.replace(/\\s/g, \"\");\n}\n\nexport class KeyController extends Component {\n    constructor() {\n        super();\n\n        window.addEventListener(\"keydown\", this.keydownEvent);\n        window.addEventListener(\"keyup\", this.keyupEvent);\n    }\n    public keydown(comb: string, callback: (e: KeyboardEvent) => void) {\n        return this.on(`keydown.${comb}`, callback);\n    }\n    public keyup(comb: string, callback: (e: KeyboardEvent) => void) {\n        return this.on(`keyup.${comb}`, callback);\n    }\n    private triggerEvent(type: \"keydown\" | \"keyup\", e: KeyboardEvent) {\n        const key = getKey(e.keyCode);\n\n        this.trigger(`${type}.${key}`, {\n            ctrlKey: e.ctrlKey,\n            altKey: e.altKey,\n            shiftKey: e.shiftKey,\n            metaKey: e.metaKey,\n        });\n    }\n    private keydownEvent = (e: KeyboardEvent) => {\n        this.triggerEvent(\"keydown\", e);\n    }\n    private keyupEvent = (e: KeyboardEvent) => {\n        this.triggerEvent(\"keyup\", e);\n    }\n}\n\nexport default function keycon() {\n    return new KeyController();\n}\n"],"names":["isUndefined","value","Component","_eventHandler","options","_proto","prototype","trigger","eventName","customEvent","handlerList","hasHandlerList","length","concat","eventType","isCanceled","arg","i","stop","currentTarget","_len","arguments","restParam","Array","_key","apply","once","handlerToAttach","eventHash","self","on","listener","_len2","_key2","off","hasOn","name","push","handlerToDetach","undefined","k","handlerFunction","splice","VERSION","keyCode","searchInput","hasKeyCode","which","charCode","names","search","String","foundNamedKey","codes","toLowerCase","aliases","charCodeAt","isEventKey","event","nameOrCode","exports","module","fromCharCode","alias","codeData","getKey","key","replace","tslib_1","_super","_this","e","triggerEvent","window","addEventListener","keydownEvent","keyupEvent","comb","callback","type","ctrlKey","altKey","shiftKey","metaKey","keycon","KeyController"],"mappings":"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"}